defineModule("bedok-wrapper",(()=>({name:"bedok-wrapper",props:["page"],render(){with(this)return _c("div",[$slots.menu||$scopedSlots.menu?_t("menu",null,{v:void 0},{onRoute:e=>$emit("update:page",e)}):$attrs.dev?_c("div",[_v("brak template dla slotu #menu "+_s(page))]):_e(),_v(" "),page?.length>=2&&"details"==page[0]?_c("section",[_t("details",(function(){return[_c("h2",[_v("Szczegóły ogłoszenia")]),_v(" "),_c("pre",[_v(_s(JSON.stringify(page[1],null,2)))]),_v(" "),_c("button",{on:{click:function(e){page=1}}},[_v("powrót")])]}),null,{ad:page[1]})],2):1==page?_c("section",[_t("mainpage",(function(){return[_c("nav",[_v("start | menu | all")]),_v(" "),_c("section",[_v("hero")]),_v(" "),_c("section",[_v("cecha1 | cecha2 | cecha3")]),_v(" "),_c("section",[_c("ul",_l(first30Ads,(function(e){return _c("li",{staticClass:"card"},[_v(_s(e.data.title)+": "),_c("button",[_v("otwórz")])])})),0)])]}),null,{first30Ads:first30Ads,createAd:createAd,newModel:newModel,openAdDetails:e=>$emit("update:page",["details",e])})],2):2==page?_c("section",[_t("adslist",(function(){return[_c("div",[_v("\n            page\n          ")])]}),null,{page:page,ads:ads,createAd:createAd,newModel:newModel,removeAd:removeAd,isLoading:isLoading,openAdDetails:e=>page=["details",e],openAdDetails:e=>$emit("update:page",["details",e])})],2):_c("section",[_v("\n        "+_s(page)+"\n        "),_c("button",{on:{click:function(e){page=1}}},[_v("powrót")]),_v(" "),_t("default")],2)],2)},data:()=>({newModel:{},ads:[],isLoading:!1,first30Ads:[]}),created(){if(!this.page)throw new"prop page is required in <bedok-wrapper/>";const e=this.$attrs.fireConfig||{apiKey:"AIzaSyBbj8fwJcDSrmw9aP-Abg_AJFx_qkqKo3I",authDomain:"bedok-1337.firebaseapp.com",projectId:"bedok-1337",storageBucket:"bedok-1337.appspot.com",messagingSenderId:"1098820841225",appId:"1:1098820841225:web:c385de28a3c273fe1aedd8"},t=window.firebase;t.apps.length||t.initializeApp(e)},mounted(){this.fetchAds(),this.watchAds()},methods:{async fetchAds(){const e=window.firebase.firestore().collection("ads");this.isLoading=!0,e.get().then((e=>{e.docs.forEach(((e,t)=>{let s;this.ads.push(s={id:e.id,data:e.data()}),t<30&&this.first30Ads.push(s)})),this.isLoading=!1}))},createAd(){firebase.firestore().collection("ads").add(this.newModel).then((()=>{console.log("Ad created successfully"),this.newModel={title:""}})).catch((e=>{console.error("Error adding ad: ",e)}))},async removeAd(e){const t=firebase.firestore().collection("ads"),s=await t.doc(e).delete();console.log("Ad removed successfully",s),this.ads=this.ads.filter((t=>t.id!==e))},watchAds(){firebase.firestore().collection("ads").onSnapshot((e=>{this.ads=[],this.first30Ads=[],console.groupCollapsed("onSnapshot"),e.docs.forEach(((e,t)=>{const s={id:e.id,data:e.data()};console.info("onSnapshot",{...s,...s.data}),this.ads.push(s),t<30&&this.first30Ads.push(s)})),console.groupEnd("onSnapshot")}))}}})));